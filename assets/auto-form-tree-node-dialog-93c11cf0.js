import{a as s,k as q,w as R,r as t,o as m,c as g,f as l,n as a,s as V,l as S,d as D,F as E}from"./index-6a664dec.js";const j={__name:"auto-form-tree-node-dialog",props:{title:{type:String,default:"提示"}},emits:["commit","close"],setup(L,{emit:k}){const y=s(!0),c=k,p=s(),C=s(100),e=q({label:void 0,value:void 0}),x=s({label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]}),n=s("string"),w=s([{label:"字符串",value:"string"},{label:"数字",value:"number"}]);function d(u){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g.test(u)}R(()=>e.value,u=>{n.value=d(u)?"number":"string"});function F(){e.label=void 0,e.value=void 0}function i(){c("close")}function B(){(d(e.value)&&n.value!=="number"||!d(e.value)&&n.value!=="string")&&(n.value=d(e.value)?"number":"string"),p.value.validate(u=>{u&&(n.value==="number"&&(e.value=parseFloat(e.value)),e.id=C.value++,c("commit",e),i())})}return(u,r)=>{const f=t("el-input"),_=t("el-form-item"),v=t("el-col"),N=t("el-option"),O=t("el-select"),T=t("el-form"),b=t("el-button"),U=t("el-dialog");return m(),g(U,{"model-value":y.value,title:"添加选项","close-on-click-modal":!1,"modal-append-to-body":!1,onOpen:F,onClose:i},{footer:l(()=>[a(b,{type:"primary",onClick:B},{default:l(()=>[V(" 确定 ")]),_:1}),a(b,{onClick:i},{default:l(()=>[V(" 取消 ")]),_:1})]),default:l(()=>[a(T,{ref_key:"ruleFormRef",ref:p,model:e,rules:x.value,"label-width":"100px"},{default:l(()=>[a(v,{span:24},{default:l(()=>[a(_,{label:"选项名",prop:"label"},{default:l(()=>[a(f,{modelValue:e.label,"onUpdate:modelValue":r[0]||(r[0]=o=>e.label=o),placeholder:"请输入选项名",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),a(v,{span:24},{default:l(()=>[a(_,{label:"选项值",prop:"value"},{default:l(()=>[a(f,{modelValue:e.value,"onUpdate:modelValue":r[2]||(r[2]=o=>e.value=o),placeholder:"请输入选项值",clearable:""},{append:l(()=>[a(O,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=o=>n.value=o),style:{width:"100px"}},{default:l(()=>[(m(!0),S(E,null,D(w.value,(o,h)=>(m(),g(N,{key:h,label:o.label,value:o.value,disabled:o.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}};export{j as default};
